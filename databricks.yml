bundle:
  name: hello-world-app

include:
  - resources/*.yml

resources:
  jobs:
    well-job:
      name: Well Job
      tasks:
        - task_key: run-well-notebook
          new_cluster:
            spark_version: 14.3.x-scala2.12
            node_type_id: i3.xlarge
            num_workers: 1
          notebook_task:
            notebook_path: src/notebooks/well.ipynb

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://dbc-6841fdbc-f68b.cloud.databricks.com
    resources:
      apps:
        hello-world-app:
          name: "hello-world-app-dev"
          source_code_path: src/app
  prod:
    mode: production
    workspace:
      host: https://dbc-6841fdbc-f68b.cloud.databricks.com
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}
    permissions:
      - user_name: ${workspace.current_user.userName}
        level: CAN_MANAGE
